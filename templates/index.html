<!DOCTYPE html>
{% load static %}
<html lang="zh-cn">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>首页</title>
    <link rel="shortcut icon" href="{% static 'media/favicon.ico' %}">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.3/css/bootstrap.min.css">
    <link rel="stylesheet" href="{% static 'css/style.css' %}" />
</head>
<body>
<div class="top-content">
    <div class="inner-bg">
        <div class="container">
            <div class="row">
                <div class="col-6 mx-auto">
                    <h1 class="text-center"><a href="{% url 'index' %}"><strong>FinNews</strong></a></h1>
                </div>
            </div>
            {% if user.is_authenticated %}
                <p>您已登录，欢迎您：<a href="#">{{ user.username }}</a></p>
                <p>您可以 <a class="btn btn-outline-secondary" href="{% url 'logout' %}">注销登录</a>、
                    <a class="btn btn-outline-primary" href="{% url 'news' %}">读新闻</a>
                    、
                    <a class="btn btn-outline-primary" href="{% url 'stocks' %}">查看股票</a>
                     或者
                    <a class="btn btn-outline-primary" href="{% url 'password_change' %}">修改密码</a> 。
                </p>

            {% else %}
                <p style="margin: 20px auto">你还没有登录，请
                    <a class="btn btn-outline-primary" href="{% url 'login' %}">登录</a>
                    或者
                    <a class="btn btn-outline-primary" href="{% url 'register' %}">注册</a> 。
                </p>
                <hr>
                <h4 style="margin: 15px 0">随便看看</h4>
                {% for news in news_list %}
                     <div class="row">
                        <div class="col-7 mx-auto">
                          <h4 style="margin: 0.75rem auto">{{ news.title }}</h4>
                          <p style="color: #777777; font-size: 90%"> {{ news.source }} {{ news.author }} | 发布时间：{{ news.pb_time }}</p>
                          <p>{{ news.summary }}</p>
                          <a class="btn btn-primary" href="{{ news.url }}" id="{{ news.id }}" target="_blank"> 阅读原文 </a>
                        </div>
                      </div>
                    <hr>
                {% empty %}
                    <div class="bd-callout bd-callout-danger" id="empty_news">
                        <h5>内部错误</h5>
                        <p>暂无新闻，请稍后再试！</p>
                    </div>
                {% endfor %}
            {% endif %}
        </div>
    </div>
</div>
</body>
</html>